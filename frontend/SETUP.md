# Инструкция по запуску Frontend части проекта "Умный склад"

### Реализованные страницы

1. **Страница авторизации (/login)**
   - Форма входа с валидацией email и пароля
   - JWT токены
   - Чекбокс "Запомнить меня"
   - Обработка ошибок авторизации

2. **Страница мониторинга (/dashboard)**
   - Интерактивная карта склада с роботами
   - Статистика в реальном времени (4 карточки)
   - Таблица последних сканирований
   - Прогнозы ИИ на 7 дней
   - WebSocket подключение для обновлений
   - Индикатор статуса WebSocket

3. **Страница истории (/history)**
   - Фильтрация по датам, зонам, статусам
   - Поиск по артикулу/названию
   - Сортировка по всем колонкам
   - Пагинация (20/50/100 записей)
   - Экспорт в Excel
   - Загрузка CSV файлов

### Архитектура проекта

```
frontend/src/
├── api/                    # API клиенты (auth, dashboard, inventory)
├── components/             # Компоненты страниц
│   ├── AIPredictions/      # Прогнозы ИИ
│   ├── CSVUploadModal/     # Модальное окно загрузки CSV
│   ├── Header/             # Шапка сайта
│   ├── HistoryFilters/     # Фильтры для истории
│   ├── Navigation/         # Навигационное меню
│   ├── ProtectedRoute/     # Защита маршрутов
│   ├── RecentScans/        # Таблица сканирований
│   ├── StatisticsCard/     # Карточка статистики
│   ├── WarehouseMap/       # Карта склада
│   └── WebSocketIndicator/ # Индикатор WebSocket
├── data-layer/             # Обработка данных
│   ├── dashboard.ts        # Обработка данных дашборда
│   ├── history.ts          # Обработка истории
│   └── websocket.ts        # WebSocket сервис
├── pages/                  # Страницы
│   ├── Dashboard/          # Страница мониторинга
│   ├── History/            # Страница истории
│   └── Login/              # Страница авторизации
├── shared/                 # Переиспользуемые компоненты
│   ├── Alert/              # Уведомления
│   ├── Badge/              # Значки статусов
│   ├── Button/             # Кнопки
│   ├── Input/              # Поля ввода
│   ├── Loader/             # Индикатор загрузки
│   └── Modal/              # Модальные окна
├── types/                  # TypeScript типы
├── utils/                  # Утилиты
│   ├── format.ts           # Форматирование данных
│   └── validation.ts       # Валидация форм
└── App.tsx                 # Главный компонент с роутингом
```

## Быстрый старт

### 1. Установка зависимостей

```bash
cd frontend
npm install
```

### 2. Настройка переменных окружения

Файл `.env` уже создан с дефолтными значениями:

```env
VITE_API_URL=http://localhost:5171
VITE_WS_URL=ws://localhost:5171
```

Измените их при необходимости.

### 3. Запуск приложения

```bash
npm run dev
```

Приложение будет доступно по адресу: http://localhost:5173

### ⚙️ API интеграция

**Все API запросы используют реальный backend на `http://localhost:5171`.**

Для изменения адреса backend настройте переменную окружения в `.env`:
```env
VITE_API_URL=http://localhost:5171
```

## Сборка для продакшена

```bash
npm run build
```

Собранные файлы будут в папке `dist/`.

## Особенности реализации

### Стиль кода

- **Tabs** для отступов (как указано в .prettierrc.json)
- **Single quotes** для строк
- **No semicolons** в конце строк
- Максимум 120 символов в строке

### Архитектурные решения

1. **Разделение ответственности**
   - Компоненты отвечают только за отображение
   - Бизнес-логика вынесена в data-layer
   - API запросы изолированы в api/

2. **Модульность**
   - Все файлы не более 100-200 строк
   - Каждый компонент в отдельной папке с CSS
   - Экспорт через index.ts

3. **TypeScript**
   - Строгая типизация всех данных
   - Интерфейсы для всех API ответов
   - Type safety для props компонентов

4. **WebSocket**
   - Сервис для управления соединением
   - Автоматическое переподключение
   - Подписка на события

5. **Защита маршрутов**
   - ProtectedRoute компонент
   - Проверка JWT токена
   - Автоматический редирект на /login

## Тестовые данные для входа

Backend должен предоставить тестовых пользователей. Примеры:

```
Email: operator@warehouse.com
Password: password123

Email: admin@warehouse.com  
Password: admin123
```

## API Endpoints (должны быть реализованы в backend)

### Авторизация
- `POST /api/auth/login` - Вход в систему

### Dashboard
- `GET /api/dashboard/current` - Текущее состояние
- `POST /api/ai/predict` - Прогнозы ИИ
- `WS /api/ws/dashboard` - WebSocket для обновлений

### Inventory
- `GET /api/inventory/history` - История с фильтрами
- `POST /api/inventory/import` - Загрузка CSV
- `GET /api/export/excel` - Экспорт в Excel

## Зависимости

### Основные
- `react` ^18.2.0 - UI библиотека
- `react-router-dom` ^6.20.0 - Роутинг
- `socket.io-client` ^4.7.2 - WebSocket клиент
- `axios` ^1.6.2 - HTTP клиент
- `recharts` ^2.10.3 - Графики
- `date-fns` ^3.0.0 - Работа с датами

### Dev зависимости
- `typescript` ^5.2.2
- `vite` ^5.0.8
- `eslint` ^8.55.0
- Плагины для ESLint

## Поддержка браузеров

- Chrome (последние 2 версии)
- Firefox (последние 2 версии)
- Safari (последние 2 версии)
- Edge (последние 2 версии)

## Responsive дизайн

Приложение адаптировано для:
- Desktop (1920px+)
- Laptop (1366px - 1920px)
- Tablet (768px - 1366px)
- Mobile (320px - 768px)

## Что дальше?

1. Убедитесь, что backend запущен и доступен
2. Проверьте WebSocket подключение
3. Загрузите тестовые данные через CSV
4. Настройте интеграцию с ИИ сервисом (если нужно)

## Контакты

При возникновении вопросов обращайтесь к команде разработки.

